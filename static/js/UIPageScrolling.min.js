!function(a){var b={sections:"section",easing:"ease",time:1e3,beforeMoveFunc:null,afterMoveFunc:null,isCyclic:!1,isVertical:!0,sectionsControl:null,captureKeyboard:!1,captureTouch:!1};a.fn.UIPageScrolling=function(c){function i(){f.unbind("mousemove").unbind("mouseup").bind("mousedown",j)}function j(){var a=-1;f.bind("mousemove",function(b){var c;a==-1&&(a=d.isVertical?b.clientY:b.clientX),c=a-(d.isVertical?b.clientY:b.clientX),c>150&&f.moveNext(),c<-150&&f.movePrevious()}).bind("mouseup",i).unbind("mousedown")}function k(a){a=window.event||a.originalEvent;var b=d.isVertical?a.touches[0].pageY:a.touches[0].pageX;f.bind("touchmove",function(a){a=window.event||a.originalEvent;var c=b-(d.isVertical?a.touches[0].pageY:a.touches[0].pageX);c>=50&&f.moveNext(),c<=-50&&f.movePrevious(),Math.abs(c)>=50&&f.unbind("touchmove")})}function l(b){var c=100*b,e=0,f=0;a(".ui-page-scrolling-section_active").removeClass("ui-page-scrolling-section_active"),a(".ui-page-scrolling-control_active").removeClass("ui-page-scrolling-control_active"),a(".ui-page-scrolling-control[data-index="+b+"]").addClass("ui-page-scrolling-control_active"),a(".ui-page-scrolling-section[data-index="+b+"]").addClass("ui-page-scrolling-section_active"),d.beforeMoveFunc instanceof Function&&d.beforeMoveFunc(b),c>0&&(c=-c),d.isVertical?f=c:e=c,a(this).css({"-webkit-transform":"translate3d("+e+"%, "+f+"%, 0)","-webkit-transition":"all "+d.time+"ms "+d.easing,"-moz-transform":"translate3d("+e+"%, "+f+"%, 0)","-moz-transition":"all "+d.time+"ms "+d.easing,"-ms-transform":"translate3d("+e+"%, "+f+"%, 0)","-ms-transition":"all "+d.time+"ms "+d.easing,transform:"translate3d("+e+"%, "+f+"%, 0)",transition:"all "+d.time+"ms "+d.easing}).one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){d.lockManager(),d.afterMoveFunc instanceof Function&&d.afterMoveFunc(b)})}function m(b){switch(b.keyCode){case 38:case 37:case 33:a(this).movePrevious();break;case 40:case 39:case 34:a(this).moveNext()}}function n(b,c){var d=40,f=((new Date).getTime(),c-h);f*lastDDelta<0&&(c<-d&&a(this).moveNext(),c>d&&a(this).movePrevious()),lastDDelta=f,h=c}var d=a.extend({},b,c),e=0,f=a(this),g=0,h=0;return lastDDelta=0,lockNext=!1,lockPrev=!1,l=l.bind(this),a.fn.moveTo=function(a){if(a<0||a>g)throw new Error("Index must be smaller than count of existing pages and greater than 0");l(a)},a.fn.moveNext=function(){if(!lockNext){var b=a(".ui-page-scrolling-section_active").attr("data-index");b++,b>g&&d.isCyclic&&(b=0),b<=g&&(lockNext=!0,lockPrev=!1,a(this).moveTo(b))}},a.fn.movePrevious=function(){if(!lockPrev){var b=a(".ui-page-scrolling-section_active").attr("data-index");b--,b<0&&d.isCyclic&&(b=g),b>=0&&(lockNext=!1,lockPrev=!0,a(this).moveTo(b))}},m=m.bind(this),n=n.bind(this),d.lockManager=function(){lockNext=!1,lockPrev=!1},f.children(d.sections).addClass("ui-page-scrolling-section").each(function(){d.isVertical?a(this).css({top:100*e+"%"}):a(this).css({left:100*e+"%"}),a(this).attr("data-index",e++)}),g=e-1,e=0,d.sectionsControl&&a(d.sectionsControl).addClass("ui-page-scrolling-control").each(function(){a(this).attr("data-index",e++).bind("click keypress",function(){f.moveTo(a(this).attr("data-index"))})}),d.captureTouch&&(f.bind("mousedown",j),f.bind("touchstart",k)),f.addClass("ui-page-scrolling-main").bind("mousewheel DOMMouseScroll",function(a){a.preventDefault();var b=a.originalEvent.wheelDelta||-120*a.originalEvent.detail;n(a,b)}),l(0),d.captureKeyboard&&a(window).bind("keydown",m),a(this)}}(window.jQuery);